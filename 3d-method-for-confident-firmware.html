<!DOCTYPE html><html lang="en-us"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>3D Method for Confident Firmware - Captain Embedded üë®üèª‚Äç‚úàÔ∏è‚öì</title><meta name="description" content="Sometimes you just feel that your firmware isn't robust enough, isn't reliable enough. What if my firmware isn't handling edge cases very well? First of all, I admire your concerns, because if you really think that way, that means you have a high standard when&hellip;"><meta name="generator" content="Publii Open-Source CMS for Static Site"><script defer="defer" type="text/javascript" data-domain="rosmianto.com" src="https://plausible.io/js/plausible.js"></script><script>window.plausible = window.plausible || function() { (window.plausible.q = window.plausible.q || []).push(arguments) }</script><link rel="stylesheet" href="https://rosmianto.com/media/plugins/syntaxHighlighter/prism-gray.css"><link rel="stylesheet" href="https://rosmianto.com/media/plugins/syntaxHighlighter/prism-inline-color.css"><link rel="canonical" href="https://rosmianto.com/3d-method-for-confident-firmware.html"><link rel="alternate" type="application/atom+xml" href="https://rosmianto.com/feed.xml"><link rel="alternate" type="application/json" href="https://rosmianto.com/feed.json"><meta property="og:title" content="3D Method for Confident Firmware"><meta property="og:image" content="https://rosmianto.com/media/posts/13/fwguide-2.webp"><meta property="og:image:width" content="2200"><meta property="og:image:height" content="1790"><meta property="og:site_name" content="Captain Embedded üë®üèª‚Äç‚úàÔ∏è‚öì"><meta property="og:description" content="Sometimes you just feel that your firmware isn't robust enough, isn't reliable enough. What if my firmware isn't handling edge cases very well? First of all, I admire your concerns, because if you really think that way, that means you have a high standard when&hellip;"><meta property="og:url" content="https://rosmianto.com/3d-method-for-confident-firmware.html"><meta property="og:type" content="article"><link rel="stylesheet" href="https://rosmianto.com/assets/css/style.css?v=4973c5003c8962017038e0fabea4774f"><script type="application/ld+json">{"@context":"http://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"https://rosmianto.com/3d-method-for-confident-firmware.html"},"headline":"3D Method for Confident Firmware","datePublished":"2024-03-18T21:45","dateModified":"2024-03-19T13:14","image":{"@type":"ImageObject","url":"https://rosmianto.com/media/posts/13/fwguide-2.webp","height":1790,"width":2200},"description":"Sometimes you just feel that your firmware isn't robust enough, isn't reliable enough. What if my firmware isn't handling edge cases very well? First of all, I admire your concerns, because if you really think that way, that means you have a high standard when&hellip;","author":{"@type":"Person","name":"Rosmianto A. Saputro","url":"https://rosmianto.com/authors/rosmianto-a-saputro/"},"publisher":{"@type":"Organization","name":"Rosmianto A. Saputro"}}</script><noscript><style>img[loading] {
                    opacity: 1;
                }</style></noscript></head><body><div class="site-container"><header class="top" id="js-header"><a class="logo" href="https://rosmianto.com/">Captain Embedded üë®üèª‚Äç‚úàÔ∏è‚öì</a><nav class="navbar js-navbar"><button class="navbar__toggle js-toggle" aria-label="Menu" aria-haspopup="true" aria-expanded="false"><span class="navbar__toggle-box"><span class="navbar__toggle-inner">Menu</span></span></button><ul class="navbar__menu"><li><a href="https://rosmianto.com/authors/rosmianto-a-saputro/" target="_self">Articles</a></li><li class="has-submenu"><span class="is-separator" aria-haspopup="true">Products (NEW üî•)</span><ul class="navbar__submenu level-2" aria-hidden="true"><li><a href="https://fwguide.rosmianto.com" target="_blank">Firmware Development Guide</a></li></ul></li><li><a href="https://newsletter.rosmianto.com" target="_blank">Newsletter</a></li><li><a href="https://www.linkedin.com/in/rosmianto/" target="_blank">LinkedIn</a></li></ul></nav><div class="search"><div class="search__overlay js-search-overlay"><div class="search__overlay-inner"><button class="search__close js-search-close" aria-label="Close">Close</button></div></div><button class="search__btn js-search-btn" aria-label="Search"><svg role="presentation" focusable="false"><use xlink:href="https://rosmianto.com/assets/svg/svg-map.svg#search"/></svg></button></div></header><main><article class="post"><div class="hero"><figure class="hero__image hero__image--overlay"><img src="https://rosmianto.com/media/posts/13/fwguide-2.webp" srcset="https://rosmianto.com/media/posts/13/responsive/fwguide-2-xs.webp 300w, https://rosmianto.com/media/posts/13/responsive/fwguide-2-sm.webp 480w, https://rosmianto.com/media/posts/13/responsive/fwguide-2-md.webp 768w, https://rosmianto.com/media/posts/13/responsive/fwguide-2-lg.webp 1024w, https://rosmianto.com/media/posts/13/responsive/fwguide-2-xl.webp 1360w, https://rosmianto.com/media/posts/13/responsive/fwguide-2-2xl.webp 1600w" sizes="(max-width: 1600px) 100vw, 1600px" loading="eager" height="1790" width="2200" alt=""></figure><header class="hero__content"><div class="wrapper"><div class="post__meta"><time datetime="2024-03-18T21:45">March 18, 2024</time></div><h1>3D Method for Confident Firmware</h1><div class="post__meta post__meta--author"><img src="https://rosmianto.com/media/website/Untitled-Diagram.jpg" loading="eager" height="1700" width="1700" class="post__author-thumb" alt="Rosmianto A. Saputro"> <a href="https://rosmianto.com/authors/rosmianto-a-saputro/" class="feed__author">Rosmianto A. Saputro</a></div></div></header></div><div class="wrapper post__entry"><p>Sometimes you just feel that your firmware isn't robust enough, isn't reliable enough. What if my firmware isn't handling edge cases very well?</p><p>First of all, I admire your concerns, because if you really think that way, that means you have a high standard when it comes to firmware development, really.</p><p>Because the majority of embedded engineers aren't even aware that their firmware should be robust and reliable. For them, as long as the firmware isn't crashing after 5 minutes of running, it's good and they move on to implement the next cool things.</p><p>That's very wrong on so many levels.</p><p>The firmware should be well-tested and you should understand every line of code you've written. The firmware should meet the requirements, and pass the performance threshold. For me, such firmware is called <em><strong>confident firmware</strong></em>.</p><p>You can be reasonably confident that your work is good enough to survive common scenarios and some special edge cases. Make no mistake, because confident firmware isn't equal to bug-free firmware. But whenever the firmware has bugs, you can <a href="https://rosmianto.com/git-backtracking-debugging-technique.html" target="_blank" rel="noopener noreferrer">confidently pinpoint</a> the root cause and immediately fix the issue.</p><p>The unsure feeling you have can be eliminated (or at least reduced) when you know everything about the firmware you develop, this is including:</p><ol><li>how each module interacts with the others</li><li>how each module has been tested</li><li>how each module is written</li></ol><p>That's why I call my method as <strong>3D Method: Draw, Dissect, Detect</strong>.</p><h1>3D: Draw, Dissect, Detect</h1><p>Now, let's delve into each step:</p><h2>Draw</h2><p>Every great software should have at least one diagram to explain the interaction between modules.</p><p>Humans, by nature, cannot comprehend chaos and complexity. That's why we invented maps to navigate the road, that's why we created organizational diagrams to show who is responsible for what.</p><p>In other words, we create abstraction to help ourselves manage chaos and complexity.</p><p>When it comes to firmware development, that means we draw firmware architecture diagrams, program flow diagrams, and hardware design diagrams. In my <a href="https://fwguide.rosmianto.com/" target="_blank" rel="noopener noreferrer">paid firmware development guide</a>, I explain more deeply how you can draw diagram for your embedded project. Here's an example of a firmware architecture diagram I've drawn for the guide:</p><figure><figure class="post__image post__image--center"><img loading="lazy" src="https://rosmianto.com/media/posts/13/fwguide.webp" alt="" width="700" height="570" sizes="100vw" srcset="https://rosmianto.com/media/posts/13/responsive/fwguide-xs.webp 300w, https://rosmianto.com/media/posts/13/responsive/fwguide-sm.webp 480w, https://rosmianto.com/media/posts/13/responsive/fwguide-md.webp 768w, https://rosmianto.com/media/posts/13/responsive/fwguide-lg.webp 1024w, https://rosmianto.com/media/posts/13/responsive/fwguide-xl.webp 1360w, https://rosmianto.com/media/posts/13/responsive/fwguide-2xl.webp 1600w"></figure><figcaption>Architecture diagram will help you navigate your firmware complexity (fwguide.rosmianto.com)</figcaption></figure><p>If you mastered the Draw step, you will be far more confident in your firmware design. You know which parts will do A, which part will do B, etc. Even if your project has bugs, you will immediately know where to look.</p><h2>Dissect</h2><p>Dissecting your code, or reviewing your code, is a sure way to make sure the firmware will work as intended. Sometimes you can do it alone, or you can ask your senior or even junior engineers to help dissect/review your code. Because as Linus Torvalds said:</p><blockquote><p>given enough eyeballs, all bugs are shallow</p><p>Linus's Law</p></blockquote><p>Yes, the more reviews, the more bugs can be discovered earlier.</p><p>If you think reviewing code is a tedious process, you are right, but you are also a bit wrong. Because I didn't say only humans can review your code. Sometimes robots (aka software) can help you catch silly mistakes here and there.</p><p>A good example of this robot is <a href="https://clang-analyzer.llvm.org/" target="_blank" rel="noopener noreferrer">static analyzer</a>. It's software that scans your entire firmware code to find some potential issues, sometimes it spits false-positive issues, but often it catches serious mistakes (like vulnerabilities or semantical errors).</p><p>So, use both humans and robots to maximize <span style="text-decoration: line-through;">profit</span> confidence.</p><h2>Detect</h2><p>Detect problems by testing your firmware code.</p><p>This can be achieved by writing unit tests, where you test each module with a set of inputs and expect certain outputs.</p><p>Testing can be automated. In fact, code testing should be automated. You can achieve this by using automation tools like GitHub Actions, so whenever you push changes to GitHub, it will automatically rerun the tests you've written, and report the result.</p><p>I recommend you to use <a href="https://github.com/catchorg/Catch2" target="_blank" rel="noopener noreferrer">Catch2</a>, because it is simple enough and easy enough to get started. Combine it with CMake and GitHub Actions, your life will be far easier. I cover this much deeper in my <a href="https://fwguide.rosmianto.com/" target="_blank" rel="noopener noreferrer">paid firmware guide</a>, I also give you a demo to setup GitHub Actions.</p><h1>Summary</h1><p>That's all to know. To make yourself more confident in your firmware, implement my 3D Method above and you will finally sleep better tonight.</p><p>Just remember that confidence doesn't guarantee bug-free, you still need to check and hunt for bugs. But at least, when you are confident, you can locate the issues much faster.</p><br><p class="msg msg--info">Whenever you're ready, there are 2 ways I can help you:<br><br>1. <a href="https://fwguide.rosmianto.com" target="_blank" rel="noopener noreferrer">Professional Firmware Development Guide</a>. If you're looking to build professional-grade firmware, I share 6+ years of expertise developing firmware. This guide shows you the exact workflow I use to build high-quality firmware for my company and my freelance clients.<br><br>2. <a href="https://hobby2pro.rosmianto.com/" target="_blank" rel="noopener noreferrer">Arduino Hobbyist into Pro Embedded Engineer Book</a>. I'm writing a book to help Arduino hobbyists turn themselves into Pro Embedded Engineers.</p></div><footer class="wrapper post__footer"><p class="post__last-updated">This article was updated on March 19, 2024</p><ul class="post__tag"><li><a href="https://rosmianto.com/tags/embedded-productivity/">Embedded Productivity</a></li></ul><div class="post__share"></div><div class="post__bio bio"><img src="https://rosmianto.com/media/website/Untitled-Diagram.jpg" loading="lazy" height="1700" width="1700" class="bio__avatar" alt="Rosmianto A. Saputro"><div><h3 class="bio__name"><a href="https://rosmianto.com/authors/rosmianto-a-saputro/" rel="author">Rosmianto A. Saputro</a></h3></div></div></footer></article><nav class="post__nav"><div class="post__nav-inner"><div class="post__nav-prev"><svg width="1.041em" height="0.416em" aria-hidden="true"><use xlink:href="https://rosmianto.com/assets/svg/svg-map.svg#arrow-prev"/></svg> <a href="https://rosmianto.com/git-backtracking-debugging-technique.html" class="post__nav-link" rel="prev"><span>Previous</span> Git Backtracking Debugging Technique</a></div><div class="post__nav-next"><a href="https://rosmianto.com/2-rule-method-for-experimental-projects.html" class="post__nav-link" rel="next"><span>Next</span> 2-Rule Method for Experimental Projects </a><svg width="1.041em" height="0.416em" aria-hidden="true"><use xlink:href="https://rosmianto.com/assets/svg/svg-map.svg#arrow-next"/></svg></div></div></nav><div class="post__related related"><div class="wrapper"><h2 class="h5 related__title">You should also read:</h2><article class="related__item"><div class="feed__meta"><time datetime="2024-03-25T10:12" class="feed__date">March 25, 2024</time></div><h3 class="h1"><a href="https://rosmianto.com/2-tips-for-improving-your-firmware.html">2 Tips for Improving Your Firmware</a></h3></article><article class="related__item"><div class="feed__meta"><time datetime="2024-03-20T09:03" class="feed__date">March 20, 2024</time></div><h3 class="h1"><a href="https://rosmianto.com/2-rule-method-for-experimental-projects.html">2-Rule Method for Experimental Projects</a></h3></article><article class="related__item"><div class="feed__meta"><time datetime="2024-02-09T14:44" class="feed__date">February 9, 2024</time></div><h3 class="h1"><a href="https://rosmianto.com/the-friday-firmware-newsletter.html">The Friday Firmware Newsletter</a></h3></article></div></div></main><footer class="footer"><div class="footer__copyright"><p>¬© 2024 Rosmianto</p></div><button onclick="backToTopFunction()" id="backToTop" class="footer__bttop" aria-label="Back to top" title="Back to top"><svg><use xlink:href="https://rosmianto.com/assets/svg/svg-map.svg#toparrow"/></svg></button></footer></div><script defer="defer" src="https://rosmianto.com/assets/js/scripts.min.js?v=f47c11534595205f20935f0db2a62a85"></script><script>window.publiiThemeMenuConfig={mobileMenuMode:'sidebar',animationSpeed:300,submenuWidth: 'auto',doubleClickTime:500,mobileMenuExpandableSubmenus:true,relatedContainerForOverlayMenuSelector:'.top'};</script><script>var images = document.querySelectorAll('img[loading]');
        for (var i = 0; i < images.length; i++) {
            if (images[i].complete) {
                images[i].classList.add('is-loaded');
            } else {
                images[i].addEventListener('load', function () {
                    this.classList.add('is-loaded');
                }, false);
            }
        }</script><script defer="defer" src="https://rosmianto.com/media/plugins/syntaxHighlighter/prism.js"></script><script defer="defer" src="https://rosmianto.com/media/plugins/syntaxHighlighter/prism-line-numbers.min.js"></script><script defer="defer" src="https://rosmianto.com/media/plugins/syntaxHighlighter/clipboard.min.js"></script><script defer="defer" src="https://rosmianto.com/media/plugins/syntaxHighlighter/prism-copy-to-clipboard.min.js"></script><script defer="defer" src="https://rosmianto.com/media/plugins/syntaxHighlighter/prism-inline-color.min.js"></script></body></html>